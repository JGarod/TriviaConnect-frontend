<div class="p-5 bg-white rounded-xl shadow-sm border border-gray-100">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-bold text-gray-800 flex items-center">
            <i class="fas fa-user-friends text-blue-500 mr-2"></i> Amigos
        </h2>
        <span *ngIf="rFriendsData" class="bg-gray-100 text-gray-800 text-xs px-2.5 py-1 rounded-full">{{ rFriendsData.length || 0 }}
</span>
    </div>

<div class="space-y-3">
    <div *ngFor="let friend of rFriendsDataPublic"
        class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition-colors duration-200">

        <!-- Avatar con estado -->
    <div class="flex items-center justify-between gap-3 w-full">
        <!-- Avatar + Nombre -->
        <div class="flex items-center gap-3">
            <div class="relative">
                <img [src]="friend.img" class="w-10 h-10 rounded-full border-2 border-white shadow-sm"
                    [appLoading]="rIsLoading" appLoadingHeight="40px" appLoadingWidth="40px">
    
                <!-- Estado dinámico -->
                <!--
          <span class="absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white"
                [ngClass]="{
                  'bg-green-500': friend.estado === 'online',
                  'bg-gray-300': friend.estado === 'away',
                  'bg-red-500': friend.estado === 'offline'
                }">
          </span>
          -->
            </div>
    
            <div>
                <p class="font-medium text-gray-800" [appLoading]="rIsLoading" appLoadingHeight="16px"
                    appLoadingWidth="100px">
                    {{ friend.nombre_usuario }}
                </p>
                <!--
          <p class="text-xs text-gray-500"
             [appLoading]="rIsLoading"
             appLoadingHeight="12px"
             appLoadingWidth="140px">
            {{ friend.estado === 'online' ? 'En línea' : friend.estado === 'away' ? 'Ausente' : 'Desconectado' }}
            - Nivel {{ friend.nivel }}
          </p>
          -->
            </div>
        </div>
    
        <!-- Botones a la derecha -->
        <div class="flex items-center gap-3">
            <!-- Ver perfil -->
            <button [routerLink]="['/profile', friend?.slug]" class="text-gray-600 hover:text-blue-600" [appLoading]="rIsLoading" appLoadingHeight="20px"
                appLoadingWidth="20px" title="Ver perfil">
                <span class="material-icons">person_search</span>
            </button>
    
            <!-- Eliminar amigo -->
            <button class="text-gray-600 hover:text-red-600" [appLoading]="rIsLoading" appLoadingHeight="20px"
                appLoadingWidth="20px" title="Eliminar amigo">
                <span class="material-icons">person_remove</span>
            </button>
        </div>
    </div>


        <!-- Botón -->
        <button class="text-blue-500 hover:text-blue-700" [appLoading]="rIsLoading" appLoadingHeight="20px"
            appLoadingWidth="20px">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>
</div>

    <a href="#" class="block text-center text-blue-500 text-sm font-medium mt-3 pt-3 border-t border-gray-100">
        Ver todos los amigos
    </a>
</div>